{
  "parentId":null,
  "avatar":"/imgs/app/avatar/simple.svg",
  "name":"tourism",
  "type":"simple",
  "modules":[
    {
      "nodeId":"userGuide",
      "name":"system configuration",
      "intro":"Can configure system parameters for applications",
      "avatar":"core/workflow/template/systemConfig",
      "flowNodeType":"userGuide",
      "position":{
        "x":531.2422736065552,
        "y":-486.7611729549753
      },
      "version":"481",
      "inputs":[
        {
          "key":"welcomeText",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "valueType":"WorkflowIOValueTypeEnum.string",
          "label":"core.app.Welcome Text",
          "value":"Hello, I am Knowledge Base Assistant. Please don't forget to select the knowledge base. [Who are you] [How to use]"
        },
        {
          "key":"variables",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "valueType":"WorkflowIOValueTypeEnum.any",
          "label":"core.app.Chat Variable",
          "value":[

          ]
        },
        {
          "key":"questionGuide",
          "valueType":"WorkflowIOValueTypeEnum.boolean",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"core.app.Question Guide",
          "value":false
        },
        {
          "key":"tts",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "valueType":"WorkflowIOValueTypeEnum.any",
          "label":"",
          "value":{
            "type":"web"
          }
        },
        {
          "key":"whisper",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "valueType":"WorkflowIOValueTypeEnum.any",
          "label":"",
          "value":{
            "open":false,
            "autoSend":false,
            "autoTTSResponse":false
          }
        },
        {
          "key":"scheduleTrigger",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "valueType":"WorkflowIOValueTypeEnum.any",
          "label":"",
          "value":null
        }
      ],
      "outputs":[

      ]
    },
    {
      "nodeId":"workflowStartNodeId",
      "name":"Process begins",
      "intro":"",
      "avatar":"core/workflow/template/workflowStart",
      "flowNodeType":"workflowStart",
      "position":{
        "x":558.4082376415505,
        "y":123.72387429194112
      },
      "version":"481",
      "inputs":[
        {
          "key":"userChatInput",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.reference",
            "FlowNodeInputTypeEnum.textarea"
          ],
          "valueType":"WorkflowIOValueTypeEnum.string",
          "label":"user problem",
          "required":true,
          "toolDescription":"user problem"
        }
      ],
      "outputs":[
        {
          "id":"userChatInput",
          "key":"userChatInput",
          "label":"core.module.input.label.user question",
          "valueType":"WorkflowIOValueTypeEnum.string",
          "type":"FlowNodeOutputTypeEnum.static"
        }
      ]
    },
    {
      "nodeId":"7BdojPlukIQw",
      "name":"AI dialogue",
      "intro":"AI Large Model Dialogue",
      "avatar":"core/workflow/template/aiChat",
      "flowNodeType":"chatNode",
      "showStatus":true,
      "position":{
        "x":1638.509551404687,
        "y":-341.0428450861567
      },
      "version":"481",
      "inputs":[
        {
          "key":"model",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.settingLLMModel",
            "FlowNodeInputTypeEnum.reference"
          ],
          "label":"core.module.input.label.aiModel",
          "valueType":"WorkflowIOValueTypeEnum.string",
          "value":"gpt-4o-mini"
        },
        {
          "key":"temperature",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "value":3,
          "valueType":"WorkflowIOValueTypeEnum.number",
          "min":0,
          "max":10,
          "step":1
        },
        {
          "key":"maxToken",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "value":1950,
          "valueType":"WorkflowIOValueTypeEnum.number",
          "min":100,
          "max":4000,
          "step":50
        },
        {
          "key":"isResponseAnswerText",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "value":true,
          "valueType":"WorkflowIOValueTypeEnum.boolean"
        },
        {
          "key":"quoteTemplate",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.string"
        },
        {
          "key":"quotePrompt",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.string"
        },
        {
          "key":"systemPrompt",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.textarea",
            "FlowNodeInputTypeEnum.reference"
          ],
          "max":3000,
          "valueType":"WorkflowIOValueTypeEnum.string",
          "label":"core.ai.Prompt",
          "description":"core.app.tip.systemPromptTip",
          "placeholder":"core.app.tip.chatNodeSystemPromptTip",
          "value":""
        },
        {
          "key":"history",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.numberInput",
            "FlowNodeInputTypeEnum.reference"
          ],
          "valueType":"WorkflowIOValueTypeEnum.chatHistory",
          "label":"core.module.input.label.chat history",
          "required":true,
          "min":0,
          "max":30,
          "value":6
        },
        {
          "key":"userChatInput",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.reference",
            "FlowNodeInputTypeEnum.textarea"
          ],
          "valueType":"WorkflowIOValueTypeEnum.string",
          "label":"user problem",
          "required":true,
          "toolDescription":"user problem",
          "value":[
            "workflowStartNodeId",
            "userChatInput"
          ]
        },
        {
          "key":"quoteQA",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.settingDatasetQuotePrompt"
          ],
          "label":"",
          "debugLabel":"Reference to Knowledge Base",
          "description":"",
          "valueType":"WorkflowIOValueTypeEnum.datasetQuote",
          "value":[
            "iKBoX2vIzETU",
            "quoteQA"
          ]
        }
      ],
      "outputs":[
        {
          "id":"history",
          "key":"history",
          "label":"core.module.output.label.New context",
          "description":"core.module.output.description.New context",
          "valueType":"WorkflowIOValueTypeEnum.chatHistory",
          "type":"FlowNodeOutputTypeEnum.static"
        },
        {
          "id":"answerText",
          "key":"answerText",
          "label":"core.module.output.label.Ai response content",
          "description":"core.module.output.description.Ai response content",
          "valueType":"WorkflowIOValueTypeEnum.string",
          "type":"FlowNodeOutputTypeEnum.static"
        }
      ]
    },
    {
      "nodeId":"iKBoX2vIzETU",
      "name":"Knowledge Base Search",
      "intro":"Call semantic retrieval and full-text retrieval capabilities to search for reference content that may be relevant to the problem from the knowledge base",
      "avatar":"core/workflow/template/datasetSearch",
      "flowNodeType":"datasetSearchNode",
      "showStatus":true,
      "position":{
        "x":918.5901682164496,
        "y":-227.11542247619582
      },
      "version":"481",
      "inputs":[
        {
          "key":"datasets",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.selectDataset",
            "FlowNodeInputTypeEnum.reference"
          ],
          "label":"core.module.input.label.Select dataset",
          "value":[

          ],
          "valueType":"WorkflowIOValueTypeEnum.selectDataset",
          "list":[

          ],
          "required":true
        },
        {
          "key":"similarity",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.selectDatasetParamsModal"
          ],
          "label":"",
          "value":0.4,
          "valueType":"WorkflowIOValueTypeEnum.number"
        },
        {
          "key":"limit",
          "renderTypeList":[
            "hidden"
          ],
          "label":"",
          "value":1500,
          "valueType":"WorkflowIOValueTypeEnum.number"
        },
        {
          "key":"searchMode",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.string",
          "value":"embedding"
        },
        {
          "key":"usingReRank",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.boolean",
          "value":false
        },
        {
          "key":"datasetSearchUsingExtensionQuery",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.boolean",
          "value":true
        },
        {
          "key":"datasetSearchExtensionModel",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.string"
        },
        {
          "key":"datasetSearchExtensionBg",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.hidden"
          ],
          "label":"",
          "valueType":"WorkflowIOValueTypeEnum.string",
          "value":""
        },
        {
          "key":"userChatInput",
          "renderTypeList":[
            "FlowNodeInputTypeEnum.reference",
            "FlowNodeInputTypeEnum.textarea"
          ],
          "valueType":"WorkflowIOValueTypeEnum.string",
          "label":"user problem",
          "required":true,
          "toolDescription":"What needs to be retrieved",
          "value":[
            "workflowStartNodeId",
            "userChatInput"
          ]
        }
      ],
      "outputs":[
        {
          "id":"quoteQA",
          "key":"quoteQA",
          "label":"core.module.Dataset quote.label",
          "type":"FlowNodeOutputTypeEnum.static",
          "valueType":"WorkflowIOValueTypeEnum.datasetQuote",
          "description":"Special array format, returns an empty array when the search result is empty."
        }
      ]
    }
  ],
  "edges":[
    {
      "source":"workflowStartNodeId",
      "target":"iKBoX2vIzETU",
      "sourceHandle":"workflowStartNodeId-source-right",
      "targetHandle":"iKBoX2vIzETU-target-left"
    },
    {
      "source":"iKBoX2vIzETU",
      "target":"7BdojPlukIQw",
      "sourceHandle":"iKBoX2vIzETU-source-right",
      "targetHandle":"7BdojPlukIQw-target-left"
    }
  ]
}